# libco简介
- libco 是腾讯开源的一个有趣的协程基础库，仅有的几个函数接口 co_create/co_resume/co_yield ，再配合 co_poll，可以支持同步编码方式实现“异步”性能。
- 代码的实现十分清晰明了，在阅读源码时，建议大家先理清楚各个数据结构，再深入探究。

## 个人理解
1. 所有的协程都在一个线程环境中（所有协程共用该env，它就是一个全局变量），因此对临界资源访问，不需要加锁
2. 一个线程环境在某一时刻，只有一个协程在执行，当该协程卡住时，后面的协程任务也将会卡住
3. 相较于线程/进程，协程控制块更小，约128K，在用户态实现切换（不经过内核态），所以，性能极高
4. 适用场景：高并发IO密集型

## 数据结构与机制
1. dlsym实现的HOOK机制：对原系统调用进行改造
2. epoll实现事件监听（读写事件/超时事件）：超时事件采用“时间轮”算法
3. 协程上下文切换采用汇编方式
4. 实现了自己的条件变量：cond实体本质上是一个双向链表

